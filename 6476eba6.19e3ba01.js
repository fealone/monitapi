(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{61:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return o})),a.d(t,"metadata",(function(){return s})),a.d(t,"rightToc",(function(){return r})),a.d(t,"default",(function(){return p}));var n=a(2),i=a(6),l=(a(0),a(77)),o={id:"usage",title:"Usage"},s={unversionedId:"usage",id:"usage",isDocsHomePage:!1,title:"Usage",description:"Usage",source:"@site/docs/usage.md",slug:"/usage",permalink:"/docs/usage",editUrl:"https://github.com/fealone/monitapi/edit/master/website/docs/usage.md",version:"current",sidebar:"someSidebar",previous:{title:"Installation",permalink:"/docs/"},next:{title:"Definition",permalink:"/docs/definition"}},r=[{value:"Usage",id:"usage",children:[{value:"One shot",id:"one-shot",children:[]},{value:"Run with FastAPI",id:"run-with-fastapi",children:[]},{value:"Deploy to serverless",id:"deploy-to-serverless",children:[]}]}],c={rightToc:r};function p(e){var t=e.components,a=Object(i.a)(e,["components"]);return Object(l.b)("wrapper",Object(n.a)({},c,a,{components:t,mdxType:"MDXLayout"}),Object(l.b)("h2",{id:"usage"},"Usage"),Object(l.b)("h3",{id:"one-shot"},"One shot"),Object(l.b)("pre",null,Object(l.b)("code",Object(n.a)({parentName:"pre"},{className:"language-shell"}),"monitapi monitor {targets.yaml}\n")),Object(l.b)("h3",{id:"run-with-fastapi"},"Run with FastAPI"),Object(l.b)("p",null,"You need to put targets.yaml in the current directory."),Object(l.b)("pre",null,Object(l.b)("code",Object(n.a)({parentName:"pre"},{className:"language-shell"}),"monitapi serve\n")),Object(l.b)("h3",{id:"deploy-to-serverless"},"Deploy to serverless"),Object(l.b)("pre",null,Object(l.b)("code",Object(n.a)({parentName:"pre"},{className:"language-shell"}),"monitapi deploy {platform} --name {function-name} --file {targets.yaml} --options {deploy-option}\n")),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"platform",Object(l.b)("ul",{parentName:"li"},Object(l.b)("li",{parentName:"ul"},"cloud_functions"))),Object(l.b)("li",{parentName:"ul"},"function-name",Object(l.b)("ul",{parentName:"li"},Object(l.b)("li",{parentName:"ul"},"Function name to deploy"))),Object(l.b)("li",{parentName:"ul"},"targets.yaml",Object(l.b)("ul",{parentName:"li"},Object(l.b)("li",{parentName:"ul"},"Definition file as YAML"))),Object(l.b)("li",{parentName:"ul"},"deploy-option",Object(l.b)("ul",{parentName:"li"},Object(l.b)("li",{parentName:"ul"},"Official deployment options")))),Object(l.b)("h4",{id:"example"},"Example"),Object(l.b)("pre",null,Object(l.b)("code",Object(n.a)({parentName:"pre"},{className:"language-shell"}),'monitapi deploy cloud_functions --name monitapi --file targets.yaml --options \'{"--region": "asia-northeast1"}\'\n')))}p.isMDXComponent=!0}}]);